{% extends "base.html" %}

{% block content %}
<div class="container-fluid px-0">
    <div class="row mb-4">
        <div class="col-md-8">
            <h2 class="fw-bold"><i class="fas fa-stethoscope text-danger me-2"></i>Machine Diagnosis</h2>
            <p class="text-muted">Uchambuzi wa Error Codes (MID, CID, FMI) na vipimo vya mifumo ya kiufundi.</p>
        </div>
    </div>

    <div class="row g-4">
        <div class="col-md-12">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <h5 class="fw-bold mb-3">Tafuta Fault Code (CAT/Komatsu)</h5>
                    <form class="row g-3">
                        <div class="col-md-4">
                            <select class="form-select form-select-lg">
                                <option selected>Chagua Aina ya Mashine</option>
                                <option>Caterpillar (CAT ET)</option>
                                <option>Komatsu (Komtrax/Monitoring)</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <input type="text" class="form-control form-control-lg" placeholder="Ingiza Code mfano: 102-03 au E155...">
                        </div>
                        <div class="col-md-2">
                            <button type="button" class="btn btn-danger btn-lg w-100">Chambua</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white py-3">
                    <h6 class="fw-bold mb-0 text-danger"><i class="fas fa-exclamation-circle me-2"></i>Matokeo ya Uchambuzi</h6>
                </div>
                <div class="card-body">
                    <div class="result-box p-4 bg-light rounded mb-3 border-start border-4 border-danger">
                        <h5 class="fw-bold">Code: 102-03 (Boost Pressure Sensor: Voltage Above Normal)</h5>
                        <p class="mb-0"><strong>MID:</strong> 036 (Engine Control) | <strong>CID:</strong> 0102 | <strong>FMI:</strong> 03</p>
                    </div>

                    <h6 class="fw-bold mt-4 mb-3">Hatua za Kuchukua (Troubleshooting Steps):</h6>
                    <ol class="list-group list-group-numbered list-group-flush">
                        <li class="list-group-item bg-transparent">Kagua waya na "connector" ya Boost Pressure Sensor (J1/P1).</li>
                        <li class="list-group-item bg-transparent">Pima voltage ya "signal" kati ya Pin C na Pin B (Inapaswa kuwa 0.5V mpaka 4.5V).</li>
                        <li class="list-group-item bg-transparent">Angalia kama kuna "Short Circuit" kwenda kwenye +Battery line.</li>
                        <li class="list-group-item bg-transparent">Badilisha Sensor ikiwa vipimo vyote vya waya viko sawa.</li>
                    </ol>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-dark text-white fw-bold">
                    Live Parameters (Data Link)
                </div>
                <div class="card-body p-0">
                    
                    <ul class="list-group list-group-flush small">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Engine Speed <span class="fw-bold">850 RPM</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Coolant Temp <span class="fw-bold">82Â°C</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Fuel Delivery Pressure <span class="fw-bold">420 kPa</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center text-danger">
                            Boost Pressure <span class="fw-bold">5.0 V (High)</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card border-0 shadow-sm bg-danger text-white">
                <div class="card-body">
                    <h6 class="fw-bold mb-2"><i class="fas fa-biohazard me-2"></i>Tahadhari ya Kiusalama</h6>
                    <p class="small mb-0 opacity-75">Usiwahi kufungua "Fuel Rail" wakati injini inafanya kazi au ikiwa bado ina presha kubwa.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

