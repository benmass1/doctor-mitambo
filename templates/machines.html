<!DOCTYPE html>
<html lang="sw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orodha ya Mitambo | DR-MITAMBO PRO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --cat: #FFCD00; --bg: #0a0a0a; --card: #141414; }
        body { background-color: var(--bg); color: #fff; font-family: 'Inter', sans-serif; padding-bottom: 90px; }
        
        .machines-header { background: #000; padding: 40px 20px; border-bottom: 2px solid var(--cat); position: relative; }
        
        /* Floating Add Button */
        .btn-add-machine { 
            position: fixed; 
            bottom: 20px; 
            right: 20px; 
            width: 60px; 
            height: 60px; 
            border-radius: 50%; 
            background: var(--cat); 
            color: #000; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 1.5rem; 
            box-shadow: 0 10px 25px rgba(255, 205, 0, 0.4); 
            z-index: 1000; 
            border: none;
            transition: 0.3s;
        }
        .btn-add-machine:hover { transform: scale(1.1) rotate(90deg); }

        .machine-list-item { 
            background: var(--card); 
            border-radius: 15px; 
            margin-bottom: 15px; 
            border: 1px solid #222; 
            overflow: hidden;
            display: flex;
            align-items: center;
        }
        .machine-thumb { width: 100px; height: 100px; background: #222; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
        .machine-thumb i { font-size: 2rem; color: #444; }
        .machine-thumb img { width: 100%; height: 100%; object-fit: cover; }

        .machine-content { padding: 15px; flex-grow: 1; }
        .machine-name { font-weight: 700; font-size: 1rem; margin-bottom: 2px; }
        .machine-meta { font-size: 0.75rem; color: #888; }
        
        .btn-view { background: transparent; border: 1px solid #333; color: var(--cat); font-size: 0.7rem; border-radius: 5px; padding: 4px 10px; }
        
        /* Modal Styling */
        .modal-content { background: var(--card); border: 1px solid var(--cat); color: white; border-radius: 20px; }
        .form-control { background: #000; border: 1px solid #333; color: white; }
        .form-control:focus { background: #000; border-color: var(--cat); color: white; box-shadow: none; }
    </style>
</head>
<body>

    <div class="machines-header text-center">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <a href="/" class="text-warning text-decoration-none"><i class="fas fa-chevron-left"></i> RUDI</a>
            <h5 class="fw-bold mb-0">MITAMBO <span class="text-warning">YANGU</span></h5>
            <i class="fas fa-th-large text-warning"></i>
        </div>
        <div class="mt-3">
            <input type="text" class="form-control rounded-pill bg-dark border-0 text-white px-4" placeholder="Tafuta mtambo kwa jina au S/N...">
        </div>
    </div>

    <div class="container mt-4">
        
        <div class="machine-list-item">
            <div class="machine-thumb">
                <i class="fas fa-truck-pickup"></i>
            </div>
            <div class="machine-content">
                <div class="d-flex justify-content-between">
                    <div class="machine-name">CAT 336D L</div>
                    <span class="badge bg-success" style="font-size: 0.6rem;">ACTIVE</span>
                </div>
                <div class="machine-meta">Serial: MBD02542 | 2018 Model</div>
                <div class="mt-2">
                    <button class="btn-view" onclick="location.href='/maintenance'"><i class="fas fa-eye me-1"></i> Fungua Details</button>
                </div>
            </div>
        </div>

        <div class="machine-list-item">
            <div class="machine-thumb">
                <i class="fas fa-tractor"></i>
            </div>
            <div class="machine-content">
                <div class="d-flex justify-content-between">
                    <div class="machine-name">KOMATSU PC200-8</div>
                    <span class="badge bg-warning text-dark" style="font-size: 0.6rem;">SERVICE DUE</span>
                </div>
                <div class="machine-meta">Serial: KMT78221 | 2020 Model</div>
                <div class="mt-2">
                    <button class="btn-view"><i class="fas fa-eye me-1"></i> Fungua Details</button>
                </div>
            </div>
        </div>

        <div class="machine-list-item">
            <div class="machine-thumb">
                <i class="fas fa-snowplow"></i>
            </div>
            <div class="machine-content">
                <div class="d-flex justify-content-between">
                    <div class="machine-name">D8R BULLDOZER</div>
                    <span class="badge bg-danger" style="font-size: 0.6rem;">BREAKDOWN</span>
                </div>
                <div class="machine-meta">Serial: 9EM01245 | 2015 Model</div>
                <div class="mt-2">
                    <button class="btn-view"><i class="fas fa-eye me-1"></i> Fungua Details</button>
                </div>
            </div>
        </div>

    </div>

    <button class="btn-add-machine" data-bs-toggle="modal" data-bs-target="#addMachineModal">
        <i class="fas fa-plus"></i>
    </button>

    <div class="modal fade" id="addMachineModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title fw-bold"><i class="fas fa-plus-circle text-warning me-2"></i> Sajili Mtambo Mpya</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form action="/add_machine" method="POST">
                        <div class="mb-3">
                            <label class="small opacity-50">Model ya Mtambo</label>
                            <input type="text" name="model" class="form-control" placeholder="Mfano: CAT 320D" required>
                        </div>
                        <div class="mb-3">
                            <label class="small opacity-50">Serial Number (S/N)</label>
                            <input type="text" name="serial" class="form-control" placeholder="Mfano: MBD12345" required>
                        </div>
                        <div class="mb-3">
                            <label class="small opacity-50">Aina ya Mtambo</label>
                            <select class="form-select bg-dark border-secondary text-white">
                                <option>Excavator</option>
                                <option>Dozer</option>
                                <option>Grader</option>
                                <option>Wheel Loader</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-warning w-100 fw-bold py-2 mt-3">HIFADHI MTAMBO</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

